<div class="journal page-container">

  <!-- Loading -->
  @if (loading) {
    <div class="loading card">
      <p>Cargando resultados...</p>
    </div>

  <!-- Error -->
  } @else if (error) {
    <div class="error card">
      <p>{{ error }}</p>
    </div>

  <!-- Resultados -->
  } @else if (mueble.length > 0 && !selectedUser) {
    <div class="first photo">
      <div class="cards-container">
        @for (m of mueble; track m.id) {
          <div class="result-card card shadow-sm">
            <img [src]="m.imagen" [alt]="m.nombre" class="card-img-top user-avatar">
            <div class="card-header">
              <h5 class="card-title mb-0">{{ m.nombre }}</h5>
            </div>
            <div class="card-body">
              <p class="text-muted mb-2">{{ m.numero_piezas }} piezas</p>
              <div class="herrajes">
                <h6 class="section-title">Herrajes</h6>
                @for (h of m.herrajes; track h.id) {
                  <div class="herraje-item">
                    <div class="herraje-title">{{ h.tipo }}</div>
                    <div class="herraje-qty text-muted">{{ h.cantidad }} piezas</div>
                  </div>
                }
              </div>
            </div>
          </div>
        }
      </div>
      <div class="back-row">
        <button class="btn btn-secondary-brand px-4" (click)="onMainClick()">Volver</button>
      </div>
    </div>

  <!-- No hay resultados -->
  } @else {
    <div class="no-results card">
      <p>No se encontraron resultados.</p>
    </div>
  }

</div>
